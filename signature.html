<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ØªÙˆÙ„ÙŠØ¯ ØªÙˆÙ‚ÙŠØ¹ Ù…Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ®</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 20px;
      background: #f9f9f9;
    }
    canvas {
      border: 2px dashed #aaa;
      background: #fff;
      touch-action: none;
      max-width: 100%;
      height: auto;
    }
    .controls {
      margin-top: 15px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      flex: 1 0 45%;
      max-width: 200px;
    }
    .logo {
      width: 100px;
      max-width: 100%;
      height: auto;
      margin-bottom: 10px;
    }
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #4caf50;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      font-size: 14px;
      z-index: 9999;
      display: none;
    }
  </style>
</head>
<body>
  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAADPcAAA59CAYAAAAkghx3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAMwGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDctMDhUMTY6MDA6NTcrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA1LTI4VDEwOjQyOjQ0KzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTI4VDEwOjQyOjQ0KzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmE5ZTkzNDgxLWNjNDktODA0Yi04Mjg4LTAyM2RkZGE3ZTFlNCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY5Y2Q0OGZmLTFkMTAtNDc0MS05ODRiLWZhMjg2NzcyOGUxMSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjllYzhlNWI0LWM3YWEtMGI0Ny1hNjZlLWQ0ZDUwMzQyODNkNyI+PC9yZGY6UmRmPjwveDp4bXBtZXRhPg==" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù‚Ø³Ù…" class="logo">
  <h2>ğŸ–‹ï¸ Ø§Ø±Ø³Ù… ØªÙˆÙ‚ÙŠØ¹Ùƒ</h2>
  <canvas id="signature" width="300" height="120"></canvas>
  <div class="controls">
    <button onclick="clearCanvas()">ğŸ§¹ Ù…Ø³Ø­</button>
    <button onclick="downloadPNG()">ğŸ’¾ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹</button>
    <button onclick="copyToClipboard()">ğŸ“‹ Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©</button>
  </div>
  <div id="toast" class="toast">âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©</div>

  <script>
    const canvas = document.getElementById('signature');
    const ctx = canvas.getContext('2d');
    const toast = document.getElementById('toast');
    let drawing = false;

    function showToast(message) {
      toast.textContent = message;
      toast.style.display = 'block';
      setTimeout(() => {
        toast.style.display = 'none';
      }, 2000);
    }

    function startDrawing(e) {
      drawing = true;
      draw(e);
    }

    function stopDrawing() {
      drawing = false;
      ctx.beginPath();
    }

    function draw(e) {
      if (!drawing) return;
      const rect = canvas.getBoundingClientRect();
      const x = e.touches ? e.touches[0].clientX - rect.left : e.clientX - rect.left;
      const y = e.touches ? e.touches[0].clientY - rect.top : e.clientY - rect.top;
      ctx.lineWidth = 2;
      ctx.lineCap = "round";
      ctx.lineTo(x, y);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(x, y);
    }

    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawDate();
    }

    function drawDate() {
      const today = new Date().toLocaleDateString('ar-EG');
      ctx.font = "14px Arial";
      ctx.fillStyle = "#333";
      ctx.textAlign = "center";
      ctx.fillText(`ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${today}`, canvas.width / 2, canvas.height - 10);
    }

    function downloadPNG() {
      drawDate();
      const link = document.createElement('a');
      link.download = `signature_${new Date().toISOString().slice(0,10)}.png`;
      link.href = canvas.toDataURL();
      link.click();
    }

    function copyToClipboard() {
      drawDate();
      canvas.toBlob(blob => {
        const item = new ClipboardItem({ 'image/png': blob });
        navigator.clipboard.write([item]).then(() => {
          showToast("âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©");
        }, err => {
          showToast("âŒ ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©");
        });
      });
    }

    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mousemove', draw);

    canvas.addEventListener('touchstart', startDrawing);
    canvas.addEventListener('touchend', stopDrawing);
    canvas.addEventListener('touchmove', draw);

    clearCanvas();
  </script>
</body>
</html>
